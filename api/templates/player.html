{% extends "base.html" %}
{% block content %}

<h1>Rosters</h1>
<table class="display compact" id="rosters">
    <thead>
        <tr>
            <th>name</th>
            <th>active</th>
            <th>slug</th>
        </tr>
    </thead>
</table>



<script>

    $(document).ready(function () {

        $('#rosters').DataTable({
            "ajax": {
                "url": "/api/{{ version }}/player/{{ player_slug }}",
                "dataSrc": "rosters"
            },
            "columns": [
                {"data": "name"},
                {"data": "active"},
                {"data": "slug",
                "visible": false}
            ]
        });

        $('#rosters').on( 'click', 'tbody td', function () {
            var table = $('#rosters').DataTable();
            var data = table.row( this ).data();
            window.location.href = "/roster/" + data.slug;
        } );

    });


</script>

{% endblock %}